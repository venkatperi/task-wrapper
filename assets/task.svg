<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: state transitions Pages: 1 -->
<svg width="578pt" height="505pt"
 viewBox="0.00 0.00 578.00 505.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 501)">
<title>state transitions</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-501 574,-501 574,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_done</title>
<path fill="none" stroke="#000000" stroke-width="2" d="M20,-8C20,-8 550,-8 550,-8 556,-8 562,-14 562,-20 562,-20 562,-88 562,-88 562,-94 556,-100 550,-100 550,-100 20,-100 20,-100 14,-100 8,-94 8,-88 8,-88 8,-20 8,-20 8,-14 14,-8 20,-8"/>
<text text-anchor="start" x="271.6584" y="-81.2" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">done</text>
</g>
<!-- initial -->
<g id="node1" class="node">
<title>initial</title>
<ellipse fill="#000000" stroke="#000000" stroke-width="2" cx="311" cy="-491.5" rx="5.5" ry="5.5"/>
</g>
<!-- idle -->
<g id="node2" class="node">
<title>idle</title>
<polygon fill="#ffffff" stroke="transparent" stroke-width="2" points="378,-438 244,-438 244,-312 378,-312 378,-438"/>
<text text-anchor="start" x="301.6664" y="-421.2" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">idle</text>
<text text-anchor="start" x="250" y="-401.2" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">@entry</text>
<text text-anchor="start" x="250" y="-381.2" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">&#45; clear data</text>
<text text-anchor="start" x="250" y="-361.2" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">&#45; create new sessionId</text>
<text text-anchor="start" x="250" y="-341.2" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">&#45; emit &#39;init&#39;</text>
<text text-anchor="start" x="249.5654" y="-321.2" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">@exit: return sessionId</text>
<polygon fill="#000000" stroke="#000000" points="244,-415 244,-415 378,-415 378,-415 244,-415"/>
<path fill="none" stroke="#000000" stroke-width="2" d="M257,-313C257,-313 365,-313 365,-313 371,-313 377,-319 377,-325 377,-325 377,-425 377,-425 377,-431 371,-437 365,-437 365,-437 257,-437 257,-437 251,-437 245,-431 245,-425 245,-425 245,-325 245,-325 245,-319 251,-313 257,-313"/>
</g>
<!-- initial&#45;&gt;idle -->
<g id="edge1" class="edge">
<title>initial&#45;&gt;idle</title>
<path fill="none" stroke="#000000" d="M311,-485.881C311,-478.353 311,-464.0925 311,-448.2429"/>
<polygon fill="#000000" stroke="#000000" points="314.5001,-448.2149 311,-438.2149 307.5001,-448.215 314.5001,-448.2149"/>
<text text-anchor="middle" x="312.3895" y="-459" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000"> </text>
</g>
<!-- running -->
<g id="node3" class="node">
<title>running</title>
<polygon fill="#ffffff" stroke="transparent" stroke-width="2" points="409,-264 213,-264 213,-138 409,-138 409,-264"/>
<text text-anchor="start" x="290.9942" y="-247.2" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">running</text>
<text text-anchor="start" x="219" y="-227.2" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">@entry: emit &#39;run&#39;</text>
<text text-anchor="start" x="219" y="-207.2" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">@exit(done): store result</text>
<text text-anchor="start" x="219" y="-187.2" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">@exit(error): store error reason</text>
<text text-anchor="start" x="218.5622" y="-167.2" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">@exit(cancel): store cancel reason</text>
<text text-anchor="start" x="219" y="-147.2" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">@exit(reset): postpone event</text>
<polygon fill="#000000" stroke="#000000" points="213,-241 213,-241 409,-241 409,-241 213,-241"/>
<path fill="none" stroke="#000000" stroke-width="2" d="M226,-139C226,-139 396,-139 396,-139 402,-139 408,-145 408,-151 408,-151 408,-251 408,-251 408,-257 402,-263 396,-263 396,-263 226,-263 226,-263 220,-263 214,-257 214,-251 214,-251 214,-151 214,-151 214,-145 220,-139 226,-139"/>
</g>
<!-- idle&#45;&gt;running -->
<g id="edge2" class="edge">
<title>idle&#45;&gt;running</title>
<path fill="none" stroke="#000000" d="M311,-311.6898C311,-299.6195 311,-286.8906 311,-274.5333"/>
<polygon fill="#000000" stroke="#000000" points="314.5001,-274.263 311,-264.2631 307.5001,-274.2631 314.5001,-274.263"/>
<text text-anchor="start" x="311" y="-285" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">start(request) &#160;&#160;</text>
</g>
<!-- success -->
<g id="node5" class="node">
<title>success</title>
<polygon fill="#ffffff" stroke="transparent" stroke-width="2" points="131.5,-62 16.5,-62 16.5,-16 131.5,-16 131.5,-62"/>
<text text-anchor="start" x="52.8292" y="-45.2" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">success</text>
<text text-anchor="start" x="22.7488" y="-25.2" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">@entry: emit &#39;done&#39;</text>
<polygon fill="#000000" stroke="#000000" points="17,-39 17,-39 132,-39 132,-39 17,-39"/>
<path fill="none" stroke="#000000" stroke-width="2" d="M29.5,-17C29.5,-17 118.5,-17 118.5,-17 124.5,-17 130.5,-23 130.5,-29 130.5,-29 130.5,-49 130.5,-49 130.5,-55 124.5,-61 118.5,-61 118.5,-61 29.5,-61 29.5,-61 23.5,-61 17.5,-55 17.5,-49 17.5,-49 17.5,-29 17.5,-29 17.5,-23 23.5,-17 29.5,-17"/>
</g>
<!-- running&#45;&gt;success -->
<g id="edge3" class="edge">
<title>running&#45;&gt;success</title>
<path fill="none" stroke="#000000" d="M212.7279,-143.3254C209.1268,-141.4916 205.5431,-139.7103 202,-138 182.3498,-128.5144 174.6191,-131.891 156.324,-120 135.2306,-106.2903 115.0385,-86.5622 99.9309,-70.0082"/>
<polygon fill="#000000" stroke="#000000" points="102.2114,-67.307 92.9413,-62.177 96.9889,-71.9682 102.2114,-67.307"/>
<text text-anchor="start" x="156" y="-111" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">done(result) &#160;&#160;</text>
</g>
<!-- error -->
<g id="node6" class="node">
<title>error</title>
<polygon fill="#ffffff" stroke="transparent" stroke-width="2" points="540,-62 426,-62 426,-16 540,-16 540,-62"/>
<text text-anchor="start" x="470.337" y="-45.2" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">error</text>
<text text-anchor="start" x="431.9274" y="-25.2" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">@entry: emit &#39;error&#39;</text>
<polygon fill="#000000" stroke="#000000" points="426,-39 426,-39 540,-39 540,-39 426,-39"/>
<path fill="none" stroke="#000000" stroke-width="2" d="M439,-17C439,-17 527,-17 527,-17 533,-17 539,-23 539,-29 539,-29 539,-49 539,-49 539,-55 533,-61 527,-61 527,-61 439,-61 439,-61 433,-61 427,-55 427,-49 427,-49 427,-29 427,-29 427,-23 433,-17 439,-17"/>
</g>
<!-- running&#45;&gt;error -->
<g id="edge4" class="edge">
<title>running&#45;&gt;error</title>
<path fill="none" stroke="#000000" d="M391.4255,-137.8109C398.169,-131.9276 404.7799,-125.9413 411,-120 427.3363,-104.3958 444.1872,-85.6104 457.4762,-70.0606"/>
<polygon fill="#000000" stroke="#000000" points="460.2911,-72.1524 464.0793,-62.258 454.9476,-67.6305 460.2911,-72.1524"/>
<text text-anchor="start" x="421" y="-111" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">error(reason) &#160;&#160;</text>
</g>
<!-- cancel -->
<g id="node7" class="node">
<title>cancel</title>
<polygon fill="#ffffff" stroke="transparent" stroke-width="2" points="411.5,-62 288.5,-62 288.5,-16 411.5,-16 411.5,-62"/>
<text text-anchor="start" x="333.1624" y="-45.2" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">cancel</text>
<text text-anchor="start" x="294.7528" y="-25.2" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">@entry: emit &#39;cancel&#39;</text>
<polygon fill="#000000" stroke="#000000" points="289,-39 289,-39 412,-39 412,-39 289,-39"/>
<path fill="none" stroke="#000000" stroke-width="2" d="M301.5,-17C301.5,-17 398.5,-17 398.5,-17 404.5,-17 410.5,-23 410.5,-29 410.5,-29 410.5,-49 410.5,-49 410.5,-55 404.5,-61 398.5,-61 398.5,-61 301.5,-61 301.5,-61 295.5,-61 289.5,-55 289.5,-49 289.5,-49 289.5,-29 289.5,-29 289.5,-23 295.5,-17 301.5,-17"/>
</g>
<!-- running&#45;&gt;cancel -->
<g id="edge5" class="edge">
<title>running&#45;&gt;cancel</title>
<path fill="none" stroke="#000000" d="M327.6076,-137.8211C329.1204,-131.8046 330.6063,-125.7909 332,-120 335.7701,-104.3345 339.6819,-86.8953 342.8919,-72.2228"/>
<polygon fill="#000000" stroke="#000000" points="346.3898,-72.6081 345.0932,-62.093 339.5495,-71.1216 346.3898,-72.6081"/>
<text text-anchor="start" x="334" y="-111" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">cancel(reason) &#160;&#160;</text>
</g>
<!-- running&#45;&gt;cancel -->
<g id="edge7" class="edge">
<title>running&#45;&gt;cancel</title>
<path fill="none" stroke="#000000" d="M294.7807,-137.7409C294.3749,-127.6481 295.3024,-117.4311 298.437,-108 303.0295,-94.1824 311.5877,-80.8942 320.4305,-69.7314"/>
<polygon fill="#000000" stroke="#000000" points="323.1577,-71.9259 326.8671,-62.0017 317.7784,-67.4466 323.1577,-71.9259"/>
<text text-anchor="start" x="298" y="-111" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">reset &#160;&#160;</text>
</g>
<!-- timeout -->
<g id="node8" class="node">
<title>timeout</title>
<polygon fill="#ffffff" stroke="transparent" stroke-width="2" points="274,-62 146,-62 146,-16 274,-16 274,-62"/>
<text text-anchor="start" x="190.3302" y="-45.2" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">timeout</text>
<text text-anchor="start" x="151.9206" y="-25.2" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">@entry: emit &#39;timeout&#39;</text>
<polygon fill="#000000" stroke="#000000" points="146,-39 146,-39 274,-39 274,-39 146,-39"/>
<path fill="none" stroke="#000000" stroke-width="2" d="M159,-17C159,-17 261,-17 261,-17 267,-17 273,-23 273,-29 273,-29 273,-49 273,-49 273,-55 267,-61 261,-61 261,-61 159,-61 159,-61 153,-61 147,-55 147,-49 147,-49 147,-29 147,-29 147,-23 153,-17 159,-17"/>
</g>
<!-- running&#45;&gt;timeout -->
<g id="edge6" class="edge">
<title>running&#45;&gt;timeout</title>
<path fill="none" stroke="#000000" d="M237.5076,-137.6252C233.1627,-131.975 229.2107,-126.0807 225.874,-120 217.9203,-105.5056 213.9116,-87.6236 211.9074,-72.3515"/>
<polygon fill="#000000" stroke="#000000" points="215.372,-71.8346 210.8164,-62.2692 208.4127,-72.5878 215.372,-71.8346"/>
<text text-anchor="start" x="225" y="-111" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">stateTimeout &#160;&#160;</text>
</g>
<!-- done -->
<!-- success&#45;&gt;idle -->
<g id="edge8" class="edge">
<title>success&#45;&gt;idle</title>
<path fill="none" stroke="#000000" d="M73.9625,-62.1324C75.0157,-105.7866 82.7989,-201.5302 128.437,-264 154.9636,-300.3098 197.3054,-327.122 234.5359,-345.2895"/>
<polygon fill="#000000" stroke="#000000" points="233.3434,-348.5976 243.8784,-349.7226 236.3443,-342.2735 233.3434,-348.5976"/>
<text text-anchor="start" x="128" y="-198" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">reset &#160;&#160;</text>
</g>
<!-- error&#45;&gt;idle -->
<g id="edge9" class="edge">
<title>error&#45;&gt;idle</title>
<path fill="none" stroke="#000000" d="M488.1054,-62.192C496.3019,-105.5329 507.7288,-200.1907 468,-264 448.5695,-295.2078 416.8015,-320.1071 386.907,-338.3502"/>
<polygon fill="#000000" stroke="#000000" points="384.9398,-335.4475 378.1225,-343.5577 388.5094,-341.469 384.9398,-335.4475"/>
<text text-anchor="start" x="496" y="-198" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">reset &#160;&#160;</text>
</g>
<!-- cancel&#45;&gt;idle -->
<g id="edge10" class="edge">
<title>cancel&#45;&gt;idle</title>
<path fill="none" stroke="#000000" d="M376.3694,-62.0638C388.8297,-74.434 402.7487,-90.6778 411,-108 440.8318,-170.6268 441.6539,-199.549 416,-264 408.941,-281.7346 397.5545,-298.2692 384.8311,-312.8773"/>
<polygon fill="#000000" stroke="#000000" points="382.1927,-310.5765 378.0715,-320.337 387.3799,-315.2769 382.1927,-310.5765"/>
<text text-anchor="start" x="434" y="-198" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">reset &#160;&#160;</text>
</g>
<!-- timeout&#45;&gt;idle -->
<g id="edge11" class="edge">
<title>timeout&#45;&gt;idle</title>
<path fill="none" stroke="#000000" d="M198.0407,-62.2883C178.0847,-104.5897 143.2096,-195.9595 175.437,-264 188.3658,-291.2962 211.6592,-314.1166 235.3321,-331.8268"/>
<polygon fill="#000000" stroke="#000000" points="233.5497,-334.8569 243.705,-337.877 237.6495,-329.1832 233.5497,-334.8569"/>
<text text-anchor="start" x="175" y="-198" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">reset &#160;&#160;</text>
</g>
</g>
</svg>
